<!doctype html>
<html lang="en-us">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Page Title</title>
  <link rel="stylesheet" href="Ex3.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
</head>
<body>
  <ul class="nav nav-tab bg-primary">
    <li class="nav-item">
      <a class="nav-link">
        <input type="text" placeholder="Nhập mã hàng hoặc tên hàng hoá">
      </a>
    </li>
    <li class="nav-item ml-auto border-right">
      <a class="nav-link">Báo cáo</a>
    </li>
    <li class="nav-item border-right">
      <a class="nav-link">Quản lý</a>
    </li>
    <li class="nav-item">
      <a class="nav-link">Nhập thẻ</a>
    </li>
    <li class="nav-item ml-auto">
      <a class="nav-link">Cửa hàng</a>
    </li>
    <li class="nav-item dropdown" style="margin-right: 60px">
      <a class="nav-link">
        <select>
          <option>Kho 1</option>
          <option>Kho 2</option>
          <option>Kho 3</option>
        </select>
      </a>
    </li>
  </ul>
  <div class="main">
    <div class="container-fluid">
      <div class="row">
        <div class="col-md-5">
          <table class="table table-bordered table-hover">
            <thead>
              <tr>
                <th>Hàng hoá</th>
                <th>Tên</th>
                <th>SL</th>
                <th>Đơn giá</th>
                <th>Thành tiền</th>
              </tr>
            </thead>
            <tbody id="tbody">

            </tbody>
          </table>
        </div>
        <div class="col-md-7">
          <div class="container-fluid">
            <select class="all">
              <option>Tất cả</option>
            </select>
            <button type="button" class="btn btn-primary">Hàng mới</button>
            <button type="button" class="btn btn-primary">Bán chạy</button>
          </div>
          <div class="c2">
            <div class="container-fluid">
              <div class="row" id="container">
              </div>
              <!-- <div class="row">
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
                <div class="col-sm">
                  <div class="image">
                    <img src="img/nutifood.png">
                  </div>
                  <div class="title">
                    <div class="name">
                      <span>Nutifood</span>
                    </div>
                    <div class="number">
                      <span>1 Chai</span>
                    </div>
                    <div class="money">
                      <span><b>10.000<sup>đ</sup></b></span>
                    </div>
                  </div>
                </div>
              </div> -->
            </div>
          </div>
          <footer>
            <button type="button" class="btn btn-secondary">Secondary</button>
            <button type="button" class="btn btn-secondary">Secondary</button>
            <button type="button" class="btn btn-secondary">Secondary</button>
            <button type="button" class="btn btn-secondary">Secondary</button>
            <button type="button" class="btn btn-secondary">Secondary</button>
          </footer>
        </div>
      </div>
    </div>
  </div>
  <script type="text/javascript">
    var dataList = [
      {
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      },{
        'img': 'img/nutifood.png',
        'name': 'NutiFood',
        'money': '10000'
      }
    ]
    cardItems = []

    $(function () {
      show();
    })

    function show() {
      for (var i = 0; i < dataList.length; i++) {
        $('#container').append(`<div class="col-sm-2" onclick="clickItem(${i})" style="cursor: pointer">
                                    <div class="image">
                                      <img src="${dataList[i].img}">
                                    </div>
                                    <div class="title">
                                      <div class="name">
                                        <span>${dataList[i].name}</span>
                                      </div>
                                      <div class="number">
                                        <span>1 Chai</span>
                                      </div>
                                      <div class="money">
                                        <span><b>${dataList[i].money}<sup>đ</sup></b></span>
                                      </div>
                                    </div>
                                  </div>`)
      }
    }

    function clickItem(index) {
			if(cardItems[index] === undefined) {
				cardItems[index] = {
					'thumbnail': dataList[index].img,
					'title': dataList[index].name,
					'price': dataList[index].money,
          'number': 1
				}
			} else {
				cardItems[index].number++
			}
			$('#tbody').empty()
			for (var i = 0; i < cardItems.length; i++) {
				$('#tbody').append(`<tr>
							<td><img src="${cardItems[i].thumbnail}" width="100px"></td>
							<td>${cardItems[i].title}</td>
              <td>${cardItems[i].number}</td>
							<td>${cardItems[i].price}</td>
							<td>${cardItems[i].price * cardItems[i].number}</td>
						</tr>`)
			}
		}
    // var a = document.getElementById('container')
    // for (var j = 0; j < a.children.length; j++) {
    //   for (var i = 0, len = a.children[j].children.length; i < len; i++) {
    //     (function (index) {
    //       a.children[j].children[i].onclick = function () {
    //         console.log(index);
    //       }
    //     })(i);
    //   }
    // }
  </script>
</body>
</html>
